{"ast":null,"code":"var _jsxFileName = \"D:\\\\blogspot\\\\admin-dashboard\\\\src\\\\pages\\\\Users.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Users() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [q, setQ] = useState('');\n  const [page, setPage] = useState(1);\n  const limit = 10;\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/admin/users', {\n      headers: auth()\n    }).then(r => setUsers(r.data)).catch(() => {});\n  }, []);\n  function auth() {\n    const t = localStorage.getItem('token');\n    return t ? {\n      Authorization: 'Bearer ' + t\n    } : {};\n  }\n  function remove(id) {\n    if (confirm('Delete?')) {\n      axios.delete('http://localhost:5000/api/admin/user/' + id, {\n        headers: auth()\n      }).then(() => setUsers(u => u.filter(x => x._id !== id))).catch(() => {});\n    }\n  }\n  const filtered = users.filter(u => (u.name || '').toLowerCase().includes(q.toLowerCase()) || (u.email || '').toLowerCase().includes(q.toLowerCase()));\n  const pages = Math.max(1, Math.ceil(filtered.length / limit));\n  const shown = filtered.slice((page - 1) * limit, page * limit);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        marginBottom: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Search\",\n        value: q,\n        onChange: e => {\n          setQ(e.target.value);\n          setPage(1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 58\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 72\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 85\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 17,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: shown.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: u.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 47\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: u.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 64\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: u.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => remove(u._id),\n                className: \"btn\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 18,\n                columnNumber: 103\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 99\n            }, this)]\n          }, u._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 31\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          display: 'flex',\n          justifyContent: 'flex-end',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage(p => Math.max(1, p - 1)),\n          disabled: page === 1,\n          children: \"Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 84\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Page \", page, \"/\", pages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 167\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage(p => Math.min(pages, p + 1)),\n          disabled: page === pages,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 197\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n}\n_s(Users, \"smRfxEJlmeddqLYdN0FUiExf6SI=\");\n_c = Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Users","_s","users","setUsers","q","setQ","page","setPage","limit","get","headers","auth","then","r","data","catch","t","localStorage","getItem","Authorization","remove","id","confirm","delete","u","filter","x","_id","filtered","name","toLowerCase","includes","email","pages","Math","max","ceil","length","shown","slice","children","className","style","marginBottom","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","map","role","onClick","marginTop","display","justifyContent","gap","p","disabled","min","_c","$RefreshReg$"],"sources":["D:/blogspot/admin-dashboard/src/pages/Users.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nexport default function Users(){\n  const [users,setUsers]=useState([]); const [q,setQ]=useState(''); const [page,setPage]=useState(1); const limit=10;\n  useEffect(()=>{ axios.get('http://localhost:5000/api/admin/users',{headers:auth()}).then(r=>setUsers(r.data)).catch(()=>{}); },[]);\n  function auth(){ const t=localStorage.getItem('token'); return t?{Authorization:'Bearer '+t}:{}; }\n  function remove(id){ if(confirm('Delete?')){ axios.delete('http://localhost:5000/api/admin/user/'+id,{headers:auth()}).then(()=>setUsers(u=>u.filter(x=>x._id!==id))).catch(()=>{}); } }\n  const filtered = users.filter(u=> (u.name||'').toLowerCase().includes(q.toLowerCase()) || (u.email||'').toLowerCase().includes(q.toLowerCase()));\n  const pages = Math.max(1, Math.ceil(filtered.length/limit));\n  const shown = filtered.slice((page-1)*limit, page*limit);\n  return (\n    <div>\n      <div className=\"card\" style={{marginBottom:12}}>\n        <input placeholder=\"Search\" value={q} onChange={e=>{ setQ(e.target.value); setPage(1); }} />\n      </div>\n      <div className=\"card\">\n        <table className=\"table\"><thead><tr><th>Name</th><th>Email</th><th>Role</th><th></th></tr></thead>\n        <tbody>{shown.map(u=>(<tr key={u._id}><td>{u.name}</td><td>{u.email}</td><td>{u.role}</td><td><button onClick={()=>remove(u._id)} className=\"btn\">Delete</button></td></tr>))}</tbody></table>\n        <div style={{marginTop:12,display:'flex',justifyContent:'flex-end',gap:8}}><button onClick={()=>setPage(p=>Math.max(1,p-1))} disabled={page===1}>Prev</button><div>Page {page}/{pages}</div><button onClick={()=>setPage(p=>Math.min(pages,p+1))} disabled={page===pages}>Next</button></div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1B,eAAe,SAASC,KAAKA,CAAA,EAAE;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAACP,QAAQ,CAAC,EAAE,CAAC;EAAE,MAAM,CAACQ,CAAC,EAACC,IAAI,CAAC,GAACT,QAAQ,CAAC,EAAE,CAAC;EAAE,MAAM,CAACU,IAAI,EAACC,OAAO,CAAC,GAACX,QAAQ,CAAC,CAAC,CAAC;EAAE,MAAMY,KAAK,GAAC,EAAE;EAClHb,SAAS,CAAC,MAAI;IAAEE,KAAK,CAACY,GAAG,CAAC,uCAAuC,EAAC;MAACC,OAAO,EAACC,IAAI,CAAC;IAAC,CAAC,CAAC,CAACC,IAAI,CAACC,CAAC,IAAEV,QAAQ,CAACU,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAI,CAAC,CAAC,CAAC;EAAE,CAAC,EAAC,EAAE,CAAC;EAClI,SAASJ,IAAIA,CAAA,EAAE;IAAE,MAAMK,CAAC,GAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAAE,OAAOF,CAAC,GAAC;MAACG,aAAa,EAAC,SAAS,GAACH;IAAC,CAAC,GAAC,CAAC,CAAC;EAAE;EACjG,SAASI,MAAMA,CAACC,EAAE,EAAC;IAAE,IAAGC,OAAO,CAAC,SAAS,CAAC,EAAC;MAAEzB,KAAK,CAAC0B,MAAM,CAAC,uCAAuC,GAACF,EAAE,EAAC;QAACX,OAAO,EAACC,IAAI,CAAC;MAAC,CAAC,CAAC,CAACC,IAAI,CAAC,MAAIT,QAAQ,CAACqB,CAAC,IAAEA,CAAC,CAACC,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACC,GAAG,KAAGN,EAAE,CAAC,CAAC,CAAC,CAACN,KAAK,CAAC,MAAI,CAAC,CAAC,CAAC;IAAE;EAAE;EACvL,MAAMa,QAAQ,GAAG1B,KAAK,CAACuB,MAAM,CAACD,CAAC,IAAG,CAACA,CAAC,CAACK,IAAI,IAAE,EAAE,EAAEC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC3B,CAAC,CAAC0B,WAAW,CAAC,CAAC,CAAC,IAAI,CAACN,CAAC,CAACQ,KAAK,IAAE,EAAE,EAAEF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC3B,CAAC,CAAC0B,WAAW,CAAC,CAAC,CAAC,CAAC;EAChJ,MAAMG,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,IAAI,CAACR,QAAQ,CAACS,MAAM,GAAC7B,KAAK,CAAC,CAAC;EAC3D,MAAM8B,KAAK,GAAGV,QAAQ,CAACW,KAAK,CAAC,CAACjC,IAAI,GAAC,CAAC,IAAEE,KAAK,EAAEF,IAAI,GAACE,KAAK,CAAC;EACxD,oBACET,OAAA;IAAAyC,QAAA,gBACEzC,OAAA;MAAK0C,SAAS,EAAC,MAAM;MAACC,KAAK,EAAE;QAACC,YAAY,EAAC;MAAE,CAAE;MAAAH,QAAA,eAC7CzC,OAAA;QAAO6C,WAAW,EAAC,QAAQ;QAACC,KAAK,EAAEzC,CAAE;QAAC0C,QAAQ,EAAEC,CAAC,IAAE;UAAE1C,IAAI,CAAC0C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;UAAEtC,OAAO,CAAC,CAAC,CAAC;QAAE;MAAE;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzF,CAAC,eACNrD,OAAA;MAAK0C,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACnBzC,OAAA;QAAO0C,SAAS,EAAC,OAAO;QAAAD,QAAA,gBAACzC,OAAA;UAAAyC,QAAA,eAAOzC,OAAA;YAAAyC,QAAA,gBAAIzC,OAAA;cAAAyC,QAAA,EAAI;YAAI;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAAArD,OAAA;cAAAyC,QAAA,EAAI;YAAK;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAAArD,OAAA;cAAAyC,QAAA,EAAI;YAAI;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAAArD,OAAA;cAAAkD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAClGrD,OAAA;UAAAyC,QAAA,EAAQF,KAAK,CAACe,GAAG,CAAC7B,CAAC,iBAAGzB,OAAA;YAAAyC,QAAA,gBAAgBzC,OAAA;cAAAyC,QAAA,EAAKhB,CAAC,CAACK;YAAI;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAAArD,OAAA;cAAAyC,QAAA,EAAKhB,CAAC,CAACQ;YAAK;cAAAiB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAAArD,OAAA;cAAAyC,QAAA,EAAKhB,CAAC,CAAC8B;YAAI;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAAArD,OAAA;cAAAyC,QAAA,eAAIzC,OAAA;gBAAQwD,OAAO,EAAEA,CAAA,KAAInC,MAAM,CAACI,CAAC,CAACG,GAAG,CAAE;gBAACc,SAAS,EAAC,KAAK;gBAAAD,QAAA,EAAC;cAAM;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA,GAAvI5B,CAAC,CAACG,GAAG;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAsI,CAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC9LrD,OAAA;QAAK2C,KAAK,EAAE;UAACc,SAAS,EAAC,EAAE;UAACC,OAAO,EAAC,MAAM;UAACC,cAAc,EAAC,UAAU;UAACC,GAAG,EAAC;QAAC,CAAE;QAAAnB,QAAA,gBAACzC,OAAA;UAAQwD,OAAO,EAAEA,CAAA,KAAIhD,OAAO,CAACqD,CAAC,IAAE1B,IAAI,CAACC,GAAG,CAAC,CAAC,EAACyB,CAAC,GAAC,CAAC,CAAC,CAAE;UAACC,QAAQ,EAAEvD,IAAI,KAAG,CAAE;UAAAkC,QAAA,EAAC;QAAI;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAAArD,OAAA;UAAAyC,QAAA,GAAK,OAAK,EAAClC,IAAI,EAAC,GAAC,EAAC2B,KAAK;QAAA;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAAArD,OAAA;UAAQwD,OAAO,EAAEA,CAAA,KAAIhD,OAAO,CAACqD,CAAC,IAAE1B,IAAI,CAAC4B,GAAG,CAAC7B,KAAK,EAAC2B,CAAC,GAAC,CAAC,CAAC,CAAE;UAACC,QAAQ,EAAEvD,IAAI,KAAG2B,KAAM;UAAAO,QAAA,EAAC;QAAI;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1R,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACnD,EAAA,CApBuBD,KAAK;AAAA+D,EAAA,GAAL/D,KAAK;AAAA,IAAA+D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}